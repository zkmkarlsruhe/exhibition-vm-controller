# Exhibition VM Controller Configuration
# Copy this file to config.yaml and adjust for your setup

# VM Configuration
vm_name: "your-vm-name"  # Name of VM in libvirt (required)
snapshot_name: "ready"    # Name of the reference snapshot to revert to

# Heartbeat Configuration
heartbeat_timeout: 15.0           # Seconds without heartbeat before considering VM failed
heartbeat_check_interval: 0.5     # Seconds between heartbeat timeout checks

# VM Startup Configuration
vm_startup_wait_interval: 10.0    # Seconds between VM responsiveness checks during startup
vm_startup_max_attempts: 30       # Maximum attempts to check VM responsiveness
vm_startup_heartbeat_delay: 10.0  # Seconds to wait after VM responsive before enabling heartbeat

# Auto-Revert Configuration
auto_revert_enabled: true  # Enable automatic revert on heartbeat timeout

# API Configuration
api_host: "0.0.0.0"  # Host to bind API server to (0.0.0.0 = all interfaces)
api_port: 8000       # Port for API server
api_reload: false    # Enable auto-reload for development (set to true for dev)

# Logging Configuration
log_level: "INFO"    # DEBUG, INFO, WARNING, ERROR, CRITICAL
log_format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# QEMU Guest Agent Configuration
check_qemu_agent: true      # Verify VM responsiveness using QEMU guest agent
                             # Set to false if QEMU guest agent is not installed in the VM
qemu_agent_timeout: 5.0     # Timeout for QEMU guest agent commands

# Notes:
# - All time values are in seconds
# - VM name must match exactly as shown in 'virsh list --all'
# - QEMU guest agent is optional but recommended for VM health checks
#   If not installed, set check_qemu_agent: false above
# - Snapshot 'ready' must be created manually after VM setup
#
# Environment Variable Override:
# Any setting can be overridden with VMCTL_<SETTING_NAME> environment variable
# Example: VMCTL_VM_NAME="my-vm" VMCTL_API_PORT=9000
